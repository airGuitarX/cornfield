/* Hide powerby */
footer.site-footer .powerby {
    display: none !important;
}

/* Sidebar widgets: icon to the left of title (archives, categories, tag-cloud, authors, toc) */
.widget:has(> .widget-icon) {
    display: grid;
    grid-template-columns: auto 1fr;
    column-gap: 0.5rem;
    align-items: center;
}
.widget:has(> .widget-icon) > .widget-icon {
    grid-column: 1;
    grid-row: 1;
}
.widget:has(> .widget-icon) > .widget-title.section-title {
    grid-column: 2;
    grid-row: 1;
    margin: 0;
}
.widget:has(> .widget-icon) > .tagCloud-tags,
.widget:has(> .widget-icon) > .widget-archive--list,
.widget:has(> .widget-icon) > .widget--toc {
    grid-column: 1 / -1;
}

/* Sidebar widgets: smaller icon & title, center-aligned
   Use aside.sidebar.right-sidebar so these win on category/tag/author list pages too */
aside.sidebar.right-sidebar .widget:has(> .widget-icon) {
    align-items: center;
}
aside.sidebar.right-sidebar .widget:has(> .widget-icon) > .widget-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    align-self: center;
}
aside.sidebar.right-sidebar .widget:has(> .widget-icon) > .widget-icon svg {
    width: 25px;   /* default: 32px */
    height: 25px;
    display: block;
}
aside.sidebar.right-sidebar .widget:has(> .widget-icon) > .widget-title.section-title {
    font-size: 1.4rem;   /* default: 1.6rem (.section-title) */
    line-height: 25px; /* match icon height for vertical alignment */
    margin: 0 !important;   /* default: margin-bottom: 10px (.section-title) */
    padding: 0;
    align-self: center;
}

/* Sidebar: more compact (less vertical padding) */
aside.sidebar.right-sidebar {
    gap: 20px;   /* default: var(--widget-separation) = 40px */
}
aside.sidebar.right-sidebar .widget:has(> .widget-icon) > .tagCloud-tags,
aside.sidebar.right-sidebar .widget:has(> .widget-icon) > .widget-archive--list,
aside.sidebar.right-sidebar .widget:has(> .widget-icon) > .widget--toc {
    margin-top: 6px;   /* default: section-title had margin-bottom: 10px */
}
aside.sidebar.right-sidebar .tagCloud .tagCloud-tags {
    gap: 6px;   /* default: 10px */
}
aside.sidebar.right-sidebar .widget.archives .archives-year a {
    padding: 8px 16px;   /* default: 18px 25px */
}

/* === Description font size overrides === */

/* Post list (homepage, tag pages, etc.) */
.article-list .article-subtitle {
  font-size: 1.5rem;   /* smaller than default */
  line-height: 1;    /* optional: improve readability */
}

/* Single article page */
.article-header .article-subtitle {
  font-size: 1.6rem;
}

/* === narrower sidebar(TOC) === */

.container.extended {
    @include respond(md) {
        --right-sidebar-max-width: 20%;  /* Reduced from 30% */
    }
    @include respond(lg) {
        --right-sidebar-max-width: 20%;  /* Reduced from 30% */
    }
    @include respond(xl) {
        --right-sidebar-max-width: 18%;  /* Reduced from 25% */
    }
}

/* === Custom hyperlink style overrides (scoped) === */

/* Define color variables */
:root {
  /* BRIGHT MODE */
  --link-normal-color: #D46A00; /* Burnt Orange */
  --link-visited-color: #0066AA; /* Steel Blue */
  --link-hover-color: #CC5500;
  --link-background-color: 255, 200, 0;
  --link-background-opacity: 0.25;
  --link-background-opacity-hover: 0.5;
}

[data-scheme="dark"] {
  /* DARK MODE */
  --link-normal-color: #FF9900; /* Bright Orange */
  --link-visited-color: #66AADD; /* Lighter Blue */
  --link-hover-color: #FFBB33;
  --link-background-color: 255, 230, 0;
  --link-background-opacity: 0.3;
  --link-background-opacity-hover: 0.55;
}

/* Only apply inside actual article body and post list content */
.article-content a,
.article-list .article-description a {
  text-decoration: none;
  color: var(--link-normal-color);
  transition: all 0.25s ease;

  &:visited {
    color: var(--link-visited-color);
  }

  &:hover {
    color: var(--link-hover-color);
  }

  &.link {
    box-shadow: 0px -2px 0px rgba(var(--link-background-color), var(--link-background-opacity)) inset;
    transition: all 0.3s ease;

    &:hover {
      box-shadow: 0px calc(-1rem * var(--article-line-height))
        0px rgba(var(--link-background-color), var(--link-background-opacity-hover)) inset;
    }
  }
}

/* === Sitemap page styling === */

.sitemapDiv {
  max-width: 800px;
  margin: 0 auto;
  padding: 2rem;
  
  h1 {
    color: var(--accent-color);
    border-bottom: 2px solid var(--accent-color);
    padding-bottom: 0.5rem;
    margin-bottom: 1rem;
  }
  
  .sitemap-intro {
    color: var(--card-text-color-secondary);
    font-size: 1.1rem;
    margin-bottom: 2rem;
    padding: 1rem;
    background-color: var(--blockquote-background-color);
    border-left: 4px solid var(--accent-color);
    border-radius: 4px;
    
    a {
      color: var(--link-normal-color);
      font-weight: 500;
      
      &:hover {
        color: var(--link-hover-color);
      }
    }
  }
  
  h2 {
    color: var(--card-text-color-main);
    margin-top: 2rem;
    margin-bottom: 1rem;
    font-size: 1.8rem;
    border-bottom: 1px solid var(--card-separator-color);
    padding-bottom: 0.5rem;
  }
  
  ul {
    list-style: none;
    padding-left: 0;
    
    li {
      margin-bottom: 1rem;
      padding: 0.75rem 0;
      border-bottom: 1px solid var(--card-separator-color);
      
      &:last-child {
        border-bottom: none;
      }
      
      a {
        color: var(--link-normal-color);
        text-decoration: none;
        font-weight: 500;
        
        &:hover {
          color: var(--link-hover-color);
          text-decoration: underline;
        }
      }
      
      strong a {
        font-size: 1.1rem;
        font-weight: 600;
      }
      
      .description {
        color: var(--card-text-color-secondary);
        font-size: 0.9rem;
        font-style: italic;
        display: block;
        margin-top: 0.25rem;
        margin-bottom: 0.25rem;
      }
      
      .sitemap-meta {
        color: var(--card-text-color-tertiary);
        font-size: 0.8rem;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }
    }
  }
}
